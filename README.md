# DHT11-IAP15F2K61S2 #

本例程使用IAP15F2K61S2读取DHT11温湿度传感器，并将读取到的数据显示在数码管上，其中使用到了部分LED灯。

## DHT11 ##

DHT11在使用前无需进行初始化。

### 起始信号 ###

值得注意的是，在读取DHT11时，主机发送的起始信号中，应有至少18ms的低电平，以保证DHT11检测到起始信号。

### 数据包 ###

DHT11发送的数据包可以分成五个部分，这五个部分都分别由时间顺序不同的`Read_DHT11_Part`来读取。

### 注意事项 ###

在起始信号和读取数据包之间有一段“准备输出”阶段，该阶段为各80us的低电平和高电平组成，在检测这两个电平时并没有用到延时函数，仅仅通过while循环检测，初始时的8位标志的值为零，正常输出并不会造成超时，我们再看到读取数据包阶段，它们最多仅为70us，但是在测试时却会造成超时，这一点我无法准确的解释，但是我的一个猜想如下：

DHT11传输的数据包都是MSB模式传输，它的传输可能是从高位起第一个1开始的，因此在传输到第八位时已然没有数据要传输了，在这里，应该是硬件层做了一定的设计，在编程时需要设置一个8位的标志，当它走过255次后，将视为超时（AT89C52或AT89C51RC、11.0592MHz），不过我的程序运行在1T模式、22.1184MHz的情况下任然可用。

## 数码管 ##

数码管通过两块74HC573连接，它们的LE引脚分别接在P26、P27上，数据输入端接P0。

## LED ##

LED共阳极接在P1上。